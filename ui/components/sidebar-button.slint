import { Theme } from "../theme.slint";

// ============================================================================
// Sidebar Icon Button Component (VS Code style)
// ============================================================================

// Sidebar button without tooltip (tooltip rendered at window level)
export component SidebarButtonWithTooltip inherits Rectangle {
    in property <string> icon: "";
    in property <string> tooltip: "";
    in property <bool> is_active: false;
    in property <color> active_color: #cc3015;
    in property <color> inactive_color: #ffebe6;
    in property <color> hover_color: #ffd9d0;
    
    callback clicked();
    
    // Expose hover state for parent to render tooltip
    out property <bool> is_hovered: touch_area.has-hover;
    
    width: 50px;
    height: 50px;
    background: is_active ? active_color : (touch_area.has-hover ? hover_color : inactive_color);
    
    // Icon text - directly positioned and centered
    Text {
        x: 0px;
        y: 0px;
        width: 50px;
        height: 50px;
        text: root.icon;
        font-size: 24px;
        color: root.is_active ? white : #333;
        horizontal-alignment: center;
        vertical-alignment: center;
    }
    
    touch_area := TouchArea {
        width: 100%;
        height: 100%;
        clicked => { root.clicked(); }
    }
}